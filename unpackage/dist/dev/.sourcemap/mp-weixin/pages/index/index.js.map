{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../HBuilderX.3.3.11.20220209/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<view class=\"content\">\n\t\t<up-search placeholder=\"搜索景点\" bg-color=\"#e3e3e3\" style=\"margin-top: 10rpx\" v-model=\"keyword\"></up-search>\n\t\t<up-swiper :list=\"bannerList\" :showTitle=\"true\" keyName=\"image\" height=\"160\" radius=\"8\" :autoplay=\"true\"></up-swiper>\n\t\t<up-notice-bar text=\"这是一个练习uniapp的旅游项目\"></up-notice-bar>\n\t\t<view class=\"waterfall\">\r\n\t\t\t<up-waterfall v-model=\"waterfallList\">\r\n\t\t\t\t<template v-slot:left=\"{ leftList }\">\r\n\t\t\t\t\t<view class=\"waterfall-item\" v-for=\"(item, index) in leftList\" :key=\"index\">\r\n\t\t\t\t\t\t<up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\" :index=\"index\"></up-lazy-load>\r\n\t\t\t\t\t\t<view class=\"item-title\">\r\n\t\t\t\t\t\t\t{{ item.title }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item-times\">\r\n\t\t\t\t\t\t\t{{ item.times }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item-tags\">\r\n\t\t\t\t\t\t\t<view class=\"tag\" v-for=\"(t, i) in item.tag\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t{{ t }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item-dot\">\r\n\t\t\t\t\t\t\t{{ item.isDot }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-slot:right=\"{ rightList }\">\r\n\t\t\t\t\t<view class=\"waterfall-item\" v-for=\"(item, index) in rightList\" :key=\"index\">\r\n\t\t\t\t\t\t<up-lazy-load threshold=\"-450\" border-radius=\"10\" :image=\"item.img\" :index=\"index\"></up-lazy-load>\r\n\t\t\t\t\t\t<view class=\"item-title\">\r\n\t\t\t\t\t\t\t{{ item.title }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item-times\">\r\n\t\t\t\t\t\t\t{{ item.times }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item-tags\">\r\n\t\t\t\t\t\t\t<view class=\"tag\" v-for=\"(t, i) in item.tag\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t{{ t }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"item-dot\">\r\n\t\t\t\t\t\t\t{{ item.isDot }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</up-waterfall>\r\n\t\t</view>\n\t\t<view class=\"top\" v-if=\"isShowTop\" @click=\"toTop\">\n\t\t\t<up-icon name=\"arrow-upward\" color=\"#fff\" size=\"20\"></up-icon>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { getBanner, getHomeList } from '../../api/api';\nimport { onLoad, onReachBottom, onPageScroll } from '@dcloudio/uni-app';\n\n// 搜索内容\nconst keyword = ref('');\n\n// 轮播图数据\nconst bannerList = ref([]);\n// 获取轮播图数据\nconst getbannerList = async () => {\n\tconst data = await getBanner();\n\tbannerList.value = data.bannerList;\n\t// console.log(data)\n};\n\n// 首页列表数据\nconst waterfallList = ref([]);\n// 获取首页列表数据\nconst getWaterfallList = async () => {\n\tconst data = await getHomeList();\n\twaterfallList.value = data;\n};\n\n// 触底事件\nonReachBottom(() => {\n\tsetTimeout(() => {\n\t\taddRandomData();\n\t}, 500);\n});\n// 模拟触底后端返回数据\nconst addRandomData = () => {\n\tfor (var i = 0; i < 10; i++) {\n\t\tlet index = uni.$u.random(0, waterfallList.value.length - 1);\n\t\tlet item = JSON.parse(JSON.stringify(waterfallList.value[index]));\n\t\titem.id = uni.$u.guid();\n\t\twaterfallList.value.push(item);\n\t}\n};\n\n// 控制置顶按钮\nconst isShowTop = ref(false);\n// 滚动事件\nonPageScroll((e) => {\n\tif (e.scrollTop > 400) {\n\t\tisShowTop.value = true;\n\t} else {\n\t\tisShowTop.value = false;\n\t}\n});\n// 置顶\nconst toTop = () => {\n\tuni.pageScrollTo({\n\t\tscrollTop: 0,\n\t\tduration: 300\n\t});\n};\n\nonLoad(() => {\n\tgetbannerList();\n\tgetWaterfallList();\n});\n</script>\n\n<style lang=\"scss\">\n.content {\n\twidth: 100%;\n\tpadding: 20rpx;\n\tbox-sizing: border-box;\n\tbackground-color: #f8f8f8;\n\t.waterfall {\n\t\twidth: 100%;\n\t\tpadding: 20rpx 0;\n\t\tbox-sizing: border-box;\n\t\t.waterfall-item {\n\t\t\twidth: 100%;\n\t\t\tbox-sizing: border-box;\n\t\t\tpadding: 10rpx;\n\t\t\tmargin: 10rpx;\r\n\t\t\tborder-radius: 10rpx;\n\t\t\tposition: relative;\n\t\t\tbackground-color: #fff;\n\t\t\t.item-title {\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\tmargin-top: 10rpx;\n\t\t\t\tcolor: #303133;\n\t\t\t}\n\t\t\t.item-times {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #777;\n\t\t\t\tmargin-top: 10rpx;\n\t\t\t}\n\t\t\t.item-tags {\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tmargin-top: 10rpx;\n\n\t\t\t\t/* 第 1 个 .tag 的样式 */\n\t\t\t\t.tag:nth-child(1) {\n\t\t\t\t\tcolor: #ffaa00;\n\t\t\t\t\tborder: 1px solid rgb(252, 163, 129);\n\t\t\t\t}\n\n\t\t\t\t/* 第 2 个 .tag 的样式（如果需要） */\n\t\t\t\t.tag:nth-child(2) {\n\t\t\t\t\tcolor: #00aaff;\n\t\t\t\t\tborder: 1px solid #00aaff;\n\t\t\t\t}\n\n\t\t\t\t.tag {\n\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t\tpadding: 4rpx 14rpx;\n\t\t\t\t\tborder-radius: 50rpx;\n\t\t\t\t\tmargin-right: 10rpx; /* 增加间距避免拥挤 */\n\t\t\t\t}\n\t\t\t}\n\t\t\t.item-dot {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 20rpx;\n\t\t\t\tright: 20rpx;\n\t\t\t\tpadding: 3rpx 10rpx;\n\t\t\t\tborder: 1rpx solid red;\n\t\t\t\tcolor: #fff;\n\t\t\t\tbackground-color: red;\n\t\t\t\tborder-radius: 10rpx;\n\t\t\t}\n\t\t}\n\t}\n\t.top {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder-radius: 50%;\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\tposition: fixed;\n\t\tright: 30rpx;\n\t\tbottom: 20%;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t}\n}\n</style>\n","import MiniProgramPage from 'D:/搜狗高速下载/贪吃蛇/blog/旅游App项目/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","getBanner","getHomeList","onReachBottom","uni","onPageScroll","onLoad","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AA2DA,UAAA,UAAAA,cAAAA,IAAA,EAAA;AAGA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AAEA,UAAA,gBAAA,YAAA;AACA,YAAA,OAAA,MAAAC,QAAAA;AACA,iBAAA,QAAA,KAAA;AAAA,IAEA;AAGA,UAAA,gBAAAD,cAAAA,IAAA,CAAA,CAAA;AAEA,UAAA,mBAAA,YAAA;AACA,YAAA,OAAA,MAAAE,QAAAA;AACA,oBAAA,QAAA;AAAA,IACA;AAGAC,kBAAAA,cAAA,MAAA;AACA,iBAAA,MAAA;AACA;MACA,GAAA,GAAA;AAAA,IACA,CAAA;AAEA,UAAA,gBAAA,MAAA;AACA,eAAA,IAAA,GAAA,IAAA,IAAA,KAAA;AACA,YAAA,QAAAC,oBAAA,GAAA,OAAA,GAAA,cAAA,MAAA,SAAA,CAAA;AACA,YAAA,OAAA,KAAA,MAAA,KAAA,UAAA,cAAA,MAAA,KAAA,CAAA,CAAA;AACA,aAAA,KAAAA,cAAAA,MAAA,GAAA,KAAA;AACA,sBAAA,MAAA,KAAA,IAAA;AAAA,MACA;AAAA,IACA;AAGA,UAAA,YAAAJ,cAAAA,IAAA,KAAA;AAEAK,kBAAA,aAAA,CAAA,MAAA;AACA,UAAA,EAAA,YAAA,KAAA;AACA,kBAAA,QAAA;AAAA,MACA,OAAA;AACA,kBAAA,QAAA;AAAA,MACA;AAAA,IACA,CAAA;AAEA,UAAA,QAAA,MAAA;AACAD,oBAAAA,MAAA,aAAA;AAAA,QACA,WAAA;AAAA,QACA,UAAA;AAAA,MACA,CAAA;AAAA,IACA;AAEAE,kBAAAA,OAAA,MAAA;AACA;AACA;IACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClHA,GAAG,WAAWC,SAAe;"}